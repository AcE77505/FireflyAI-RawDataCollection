{
    "warnings": {
        "parse": {
            "*": "No \"title\" or \"contentmodel\" was given, assuming wikitext."
        }
    },
    "parse": {
        "title": "API",
        "pageid": 0,
        "text": {
            "*": "<div class=\"mw-parser-output\"><div style=\"padding: 5px 10px;margin: 10px 0;border: 1px solid #ebccd1;border-left-width: 5px;border-radius: 3px;background: #fff;\">\n<div id=\"bread-edit\" class=\"bread-edit\" style=\"float:right;margin-top:-5px;margin-right:-5px\"><small title=\"编辑这个页面\"><a rel=\"nofollow\" class=\"external text\" href=\"https://wiki.biligame.com/sr/index.php?title=API&amp;action=edit\">编</a></small>&#160;<small title=\"清除这个页面的缓存\"><a rel=\"nofollow\" class=\"external text\" href=\"https://wiki.biligame.com/sr/index.php?title=API&amp;action=purge\">刷</a></small>&#160;<small title=\"查看这个页面的编辑历史\"><a rel=\"nofollow\" class=\"external text\" href=\"https://wiki.biligame.com/sr/index.php?title=API&amp;action=history\">历</a></small>&#160;<small title=\"短网址，按右键复制链接地址\"><a rel=\"nofollow\" class=\"external text\" href=\"https://wiki.biligame.com/sr/?curid=\">短</a></small>&#160;<small title=\"查看这个页面\"><a rel=\"nofollow\" class=\"external text\" href=\"https://wiki.biligame.com/sr/API\">阅</a></small></div><a href=\"/sr/%E9%A6%96%E9%A1%B5\" title=\"首页\">首页</a> &gt; <a href=\"/sr/%E5%91%BD%E8%B7%AF%E6%AD%A7%E5%9B%BE\" title=\"命路歧图\">命路歧图</a> &gt; <a class=\"mw-selflink selflink\">API</a><br /></div>\n<hr />\n<center><div style=\"border-radius: 6px;padding: 10px;background:#e0edff;border: 1px solid #d0d0d0;border-left: 5px solid rgb(77 120 216 / 78%);margin-bottom:5px;width:100%;max-width:100%;text-align:left\">如果是第一次来，按\"Ctrl+D\"可以收藏随时查看更新~觉得WIKI好玩的话，请推荐给朋友哦～(◕ω＜)☆<br />\n按右上角“WIKI功能→编辑”即可修改页面内容。</div></center>\n<div class=\"linebox\" id=\"myViewport\">\n<div id=\"myContent\">\n<div class=\"fatesAtlasLine\" id=\"fatesAtlasLine\" data-ligature=\"1-2,1-3,1-4,1-5,2-9,9-10,3-8,8-10,4-6,6-10,5-7,7-10,10-11,11-12\"><div class=\"canvas\"></div><div class=\"fatesAtlasTree\">\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlas TM infoBox\" data-name=\"没有被征服的\"><div class=\"fatesAtlasIcon\"><img alt=\"命路歧图-没有被征服的.png\" src=\"https://patchwiki.biligame.com/images/sr/b/b0/qdzz812uo2faodvk4m20z3d3x1878p1.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"fatesAtlasText\" data-index=\"1\">没有被征服的</div><div class=\"fatesAtlasInfo\" data-name=\"没有被征服的\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/没有被征服的\" target=\"_blank\" title=\"没有被征服的\" class=\"name\">没有被征服的</a><hr /><a href=\"/sr/再见，匹诺康尼\" target=\"_blank\" title=\"再见，匹诺康尼\" class=\"title\">再见，匹诺康尼</a><img alt=\"命路歧图-没有被征服的.png\" src=\"https://patchwiki.biligame.com/images/sr/b/b0/qdzz812uo2faodvk4m20z3d3x1878p1.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><div class=\"text\">「秩序」的美梦已经破裂，星穹列车在匹诺康尼的开拓之旅终于告一段落。家族邀请列车组众人前往空中飞艇「晖长石号」参与重要会谈，两位星核猎手也在梦境的一角复盘他们此次的「演出」。</div></div></div></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlas JS\"><div class=\"fatesAtlasIcon\"><img alt=\"流萤头像.png\" src=\"https://patchwiki.biligame.com/images/sr/thumb/c/cc/be7h8szod8ldorqldijf69kf4x5b28m.png/80px-%E6%B5%81%E8%90%A4%E5%A4%B4%E5%83%8F.png\" decoding=\"async\" loading=\"lazy\" width=\"80\" height=\"80\" srcset=\"https://patchwiki.biligame.com/images/sr/thumb/c/cc/be7h8szod8ldorqldijf69kf4x5b28m.png/120px-%E6%B5%81%E8%90%A4%E5%A4%B4%E5%83%8F.png 1.5x, https://patchwiki.biligame.com/images/sr/c/cc/be7h8szod8ldorqldijf69kf4x5b28m.png 2x\" data-file-width=\"128\" data-file-height=\"128\" /></div><div class=\"fatesAtlasText\" data-index=\"2\">流萤：士兵的报酬</div></div>\n<div class=\"fatesAtlas JS\"><div class=\"fatesAtlasIcon\"><img alt=\"翡翠头像.png\" src=\"https://patchwiki.biligame.com/images/sr/thumb/a/ab/s4t3zjzwxyioy6eqo1tsq0h4rk8otlp.png/80px-%E7%BF%A1%E7%BF%A0%E5%A4%B4%E5%83%8F.png\" decoding=\"async\" loading=\"lazy\" width=\"80\" height=\"80\" srcset=\"https://patchwiki.biligame.com/images/sr/thumb/a/ab/s4t3zjzwxyioy6eqo1tsq0h4rk8otlp.png/120px-%E7%BF%A1%E7%BF%A0%E5%A4%B4%E5%83%8F.png 1.5x, https://patchwiki.biligame.com/images/sr/a/ab/s4t3zjzwxyioy6eqo1tsq0h4rk8otlp.png 2x\" data-file-width=\"128\" data-file-height=\"128\" /></div><div class=\"fatesAtlasText\" data-index=\"3\">翡翠：甘露与鸩毒</div></div>\n<div class=\"fatesAtlas JS\"><div class=\"fatesAtlasIcon\"><img alt=\"托帕头像.png\" src=\"https://patchwiki.biligame.com/images/sr/thumb/6/6a/m3yzshqxupbylk8jt153j0u5sshvc4x.png/80px-%E6%89%98%E5%B8%95%E5%A4%B4%E5%83%8F.png\" decoding=\"async\" loading=\"lazy\" width=\"80\" height=\"80\" srcset=\"https://patchwiki.biligame.com/images/sr/thumb/6/6a/m3yzshqxupbylk8jt153j0u5sshvc4x.png/120px-%E6%89%98%E5%B8%95%E5%A4%B4%E5%83%8F.png 1.5x, https://patchwiki.biligame.com/images/sr/6/6a/m3yzshqxupbylk8jt153j0u5sshvc4x.png 2x\" data-file-width=\"128\" data-file-height=\"128\" /></div><div class=\"fatesAtlasText\" data-index=\"4\">托帕：飞行家</div></div>\n<div class=\"fatesAtlas JS Char\"><div class=\"fatesAtlasIcon\"><img alt=\"开拓者头像-1.png\" src=\"https://patchwiki.biligame.com/images/sr/thumb/5/52/rhgkx12fxucnesllif85tatcmhxqex3.png/80px-%E5%BC%80%E6%8B%93%E8%80%85%E2%80%A2%E6%AF%81%E7%81%AD%E5%A4%B4%E5%83%8F.png\" decoding=\"async\" loading=\"lazy\" width=\"80\" height=\"80\" srcset=\"https://patchwiki.biligame.com/images/sr/thumb/5/52/rhgkx12fxucnesllif85tatcmhxqex3.png/120px-%E5%BC%80%E6%8B%93%E8%80%85%E2%80%A2%E6%AF%81%E7%81%AD%E5%A4%B4%E5%83%8F.png 1.5x, https://patchwiki.biligame.com/images/sr/5/52/rhgkx12fxucnesllif85tatcmhxqex3.png 2x\" data-file-width=\"128\" data-file-height=\"128\" /><img alt=\"开拓者头像-2.png\" src=\"https://patchwiki.biligame.com/images/sr/thumb/3/39/akktv7rtbxjs4eqvg8krqzotlukg00a.png/80px-%E5%BC%80%E6%8B%93%E8%80%85%E5%A4%B4%E5%83%8F-2.png\" decoding=\"async\" loading=\"lazy\" width=\"80\" height=\"80\" srcset=\"https://patchwiki.biligame.com/images/sr/thumb/3/39/akktv7rtbxjs4eqvg8krqzotlukg00a.png/120px-%E5%BC%80%E6%8B%93%E8%80%85%E5%A4%B4%E5%83%8F-2.png 1.5x, https://patchwiki.biligame.com/images/sr/3/39/akktv7rtbxjs4eqvg8krqzotlukg00a.png 2x\" data-file-width=\"128\" data-file-height=\"128\" /></div><div class=\"fatesAtlasText\" data-index=\"5\">开拓者：开拓记事</div></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlas TM infoBox\" data-name=\"彗星美人\"><div class=\"fatesAtlasIcon\"><img alt=\"命路歧图-彗星美人.png\" src=\"https://patchwiki.biligame.com/images/sr/9/9b/5hytcqkk3796q0yf4bmtpa4qvbvmsyn.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"fatesAtlasText\" data-index=\"6\">彗星美人</div><div class=\"fatesAtlasInfo\" data-name=\"彗星美人\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/彗星美人\" target=\"_blank\" title=\"彗星美人\" class=\"name\">彗星美人</a><hr /><a href=\"/sr/再见，匹诺康尼\" target=\"_blank\" title=\"再见，匹诺康尼\" class=\"title\">再见，匹诺康尼</a><img alt=\"命路歧图-彗星美人.png\" src=\"https://patchwiki.biligame.com/images/sr/9/9b/5hytcqkk3796q0yf4bmtpa4qvbvmsyn.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><div class=\"text\">托帕与翡翠作为星际和平公司的代表登上了「晖长石号」，参加与苜蓿草家系家主奥帝•艾弗法先生的会谈。狡猾的老奥帝开门见山地抛出了自己的策略——他打算让匹诺康尼集团「自主上市」。面对突如其来的商战攻势，战略投资部的两位代表必须谨慎走出下一步……</div></div></div></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlas TM Char infoBox\" data-name=\"无回的河流\"><div class=\"fatesAtlasIcon\"><img alt=\"命路歧图-无回的河流-1.png\" src=\"https://patchwiki.biligame.com/images/sr/5/5e/11lzxfkhmcztvamwv6h0g3i6io24b6h.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><img alt=\"命路歧图-无回的河流-2.png\" src=\"https://patchwiki.biligame.com/images/sr/0/0a/on0wr4636be64zqs2iz9uh0p3uyfw66.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"fatesAtlasText\" data-index=\"7\">无回的河流</div><div class=\"fatesAtlasInfo\" data-name=\"无回的河流\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/无回的河流\" target=\"_blank\" title=\"无回的河流\" class=\"name\">无回的河流</a><hr /><a href=\"/sr/再见，匹诺康尼\" target=\"_blank\" title=\"再见，匹诺康尼\" class=\"title\">再见，匹诺康尼</a><div class=\"Char\"><img alt=\"命路歧图-无回的河流-1.png\" src=\"https://patchwiki.biligame.com/images/sr/5/5e/11lzxfkhmcztvamwv6h0g3i6io24b6h.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><img alt=\"命路歧图-无回的河流-2.png\" src=\"https://patchwiki.biligame.com/images/sr/0/0a/on0wr4636be64zqs2iz9uh0p3uyfw66.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"text\">在前往「晖长石号」之前，列车组决定在舒翁的酒吧稍作休息。借此机会，众人决定为已经逝去之人制作一杯特别的调饮…敬明天。</div></div></div></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlas TM infoBox\" data-name=\"浮生若梦\"><div class=\"fatesAtlasIcon\"><img alt=\"命路歧图-浮生若梦.png\" src=\"https://patchwiki.biligame.com/images/sr/3/3e/q9airem6d2hdi40pv63bpv7zyckz05k.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"fatesAtlasText\" data-index=\"8\">浮生若梦</div><div class=\"fatesAtlasInfo\" data-name=\"浮生若梦\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/浮生若梦\" target=\"_blank\" title=\"浮生若梦\" class=\"name\">浮生若梦</a><hr /><a href=\"/sr/再见，匹诺康尼\" target=\"_blank\" title=\"再见，匹诺康尼\" class=\"title\">再见，匹诺康尼</a><img alt=\"命路歧图-浮生若梦.png\" src=\"https://patchwiki.biligame.com/images/sr/3/3e/q9airem6d2hdi40pv63bpv7zyckz05k.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><div class=\"text\">公司代表与家族的下半场谈判开始，翡翠抛出了令人震惊的「鸩毒」，阻止了老奥帝的上市计划。<br />在翡翠的方案里，星穹列车扮演了「甘露」的角色：在获得匹诺康尼集团30%的股权后，公司将其中的5%转赠给了星穹列车，变相让列车组担任起了盛会之星的形象大使，一举多得。</div></div></div></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlas TM infoBox\" data-name=\"士兵的报酬\"><div class=\"fatesAtlasIcon\"><img alt=\"命路歧图-士兵的报酬.png\" src=\"https://patchwiki.biligame.com/images/sr/a/a1/6m5b96xzwxqxib29h3yoecpbe4x0az9.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"fatesAtlasText\" data-index=\"9\">士兵的报酬</div><div class=\"fatesAtlasInfo\" data-name=\"士兵的报酬\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/士兵的报酬\" target=\"_blank\" title=\"士兵的报酬\" class=\"name\">士兵的报酬</a><hr /><a href=\"/sr/再见，匹诺康尼\" target=\"_blank\" title=\"再见，匹诺康尼\" class=\"title\">再见，匹诺康尼</a><img alt=\"命路歧图-士兵的报酬.png\" src=\"https://patchwiki.biligame.com/images/sr/a/a1/6m5b96xzwxqxib29h3yoecpbe4x0az9.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><div class=\"text\">流萤登上「晖长石号」，怀着一丝缥缈的希望寻找那位能够实现人们心愿的「慈玉女士」。<br />她没能在这里寻得答案，但翡翠成功地在她心中种下了一颗种子…它终有一日将会开花，结果。</div></div></div></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlas TM Char infoBox\" data-name=\"黎明鸣响的一千只铃\"><div class=\"fatesAtlasIcon\"><img alt=\"命路歧图-黎明鸣响的一千只铃-1.png\" src=\"https://patchwiki.biligame.com/images/sr/3/39/7wy4f12ddt7t4xcp8qdbxswjrhlz55e.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><img alt=\"命路歧图-黎明鸣响的一千只铃-2.png\" src=\"https://patchwiki.biligame.com/images/sr/d/d9/atlb79wbvdk415gu3sniehv2zhuqrmq.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"fatesAtlasText\" data-index=\"10\">黎明鸣响的一千只铃</div><div class=\"fatesAtlasInfo\" data-name=\"黎明鸣响的一千只铃\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/黎明鸣响的一千只铃\" target=\"_blank\" title=\"黎明鸣响的一千只铃\" class=\"name\">黎明鸣响的一千只铃</a><hr /><a href=\"/sr/再见，匹诺康尼\" target=\"_blank\" title=\"再见，匹诺康尼\" class=\"title\">再见，匹诺康尼</a><div class=\"Char\"><img alt=\"命路歧图-黎明鸣响的一千只铃-1.png\" src=\"https://patchwiki.biligame.com/images/sr/3/39/7wy4f12ddt7t4xcp8qdbxswjrhlz55e.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><img alt=\"命路歧图-黎明鸣响的一千只铃-2.png\" src=\"https://patchwiki.biligame.com/images/sr/d/d9/atlb79wbvdk415gu3sniehv2zhuqrmq.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"text\">列车组终于登上了「晖长石号」，静待谐乐大典开始——然而花火的出现却打破了节庆的氛围。<br />为了排除愚者在空艇上埋下的隐患，你动员了自己手上的一切人脉，终于定位到了那枚真正的炸弹。<br />绚丽的烟花在梦幻的夜空中盛开，你与流萤在转瞬即逝的美好中留下了共同的记号。</div></div></div></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlas TM Char infoBox\" data-name=\"异乡异客\"><div class=\"fatesAtlasIcon\"><img alt=\"命路歧图-异乡异客-1.png\" src=\"https://patchwiki.biligame.com/images/sr/1/11/3q0c42zrzzyoxxyzze8w9fr5idv0k5d.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><img alt=\"命路歧图-异乡异客-2.png\" src=\"https://patchwiki.biligame.com/images/sr/9/9c/27i9i3gxrb2h8khte43x5696vqlwt0x.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"fatesAtlasText\" data-index=\"11\">异乡异客</div><div class=\"fatesAtlasInfo\" data-name=\"异乡异客\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/异乡异客\" target=\"_blank\" title=\"异乡异客\" class=\"name\">异乡异客</a><hr /><a href=\"/sr/再见，匹诺康尼\" target=\"_blank\" title=\"再见，匹诺康尼\" class=\"title\">再见，匹诺康尼</a><div class=\"Char\"><img alt=\"命路歧图-异乡异客-1.png\" src=\"https://patchwiki.biligame.com/images/sr/1/11/3q0c42zrzzyoxxyzze8w9fr5idv0k5d.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /><img alt=\"命路歧图-异乡异客-2.png\" src=\"https://patchwiki.biligame.com/images/sr/9/9c/27i9i3gxrb2h8khte43x5696vqlwt0x.png\" decoding=\"async\" loading=\"lazy\" width=\"552\" height=\"244\" data-file-width=\"552\" data-file-height=\"244\" /></div><div class=\"text\">在流梦礁，你与逝去之人，守候之人，以及路途注定再次交汇之人道别。<br />这一次的开拓之旅终于得以圆满…但在列车即将启程前往下一个目的地之时，不速之客黑天鹅却突然到访。她提出建议，希望星穹列车将下一站定在「永恒之地」翁法罗斯——一个连「开拓」本尊都未曾到达过的世界。</div></div></div></div>\n</div>\n<div class=\"fatesAtlasBranch\">\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlasPlaceholder\"></div>\n<div class=\"fatesAtlas AM NP infoBox\" data-name=\"退房\"><div class=\"fatesAtlasText\" data-index=\"12\">退房</div><div class=\"fatesAtlasInfo\" data-name=\"退房\" style=\"display:none;\"><div class=\"infoContent\"><a href=\"/sr/退房\" target=\"_blank\" title=\"退房\" class=\"name\">退房</a><hr /><div class=\"text\">得知星穹列车获赠匹诺康尼集团5%的股权后，你即刻决定前往白日梦酒店耀武扬威，并顶替大堂经理丹尼斯当上了酒店总管。<br />「工作」期间，你遇上了不少新朋旧友，接着又被卷入了一场荒诞且…呃…「短小」的骗局之中。</div></div></div></div>\n</div>\n</div></div>\n</div>\n<div id=\"fatesAtlasLine-infocontent\" style=\"display: none\"><div class=\"fatesAtlasLine-infoclose\"></div><div class=\"fatesAtlasLine-infocontent\"></div></div>\n</div>\n<p><style type=\"text/css\">\n.linebox {\n\twidth: 100%;\n\theight: calc(100vh - 50px);\n\toverflow: hidden;\n\tbackground-image: url(https://patchwiki.biligame.com/images/sr/c/c2/kcuv2h1bvqya4deyvyk0ajedxxjuwar.png);\n\tbackground-size: cover;\n\tbackground-position: center;\n\tposition: relative;\n}\n.linebox img {\n\tpointer-events: none;\n\tuser-select: none;\n}\ndiv#myContent>div {\n\tdisplay: inline-block;\n\tposition: absolute;\n\ttransform: translate(-50%, -50%);\n\ttop: 50%;\n\tleft: 50%;\n}\ndiv#myContent {\n\twidth: 100%;\n\theight: 100%;\n}\n.fatesAtlasLine {\n\tdisplay: inline-block;\n\tposition: relative;\n}\n.fatesAtlasLine>.canvas>canvas {\n\tposition: absolute;\n\tz-index: -1;\n\tleft: 0px;\n\ttop: 0px;\n}\n.fatesAtlasLine .fatesAtlasTree {\n\tdisplay: inline-flex;\n\tflex-wrap: nowrap;\n\tflex-direction: row;\n\tmargin: 5em 0;\n}\n.fatesAtlasLine .fatesAtlasbranch {\n\tdisplay: inline-flex;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n}\n.fatesAtlasLine .fatesAtlas,\n.fatesAtlasLine .fatesAtlasPlaceholder {\n\tdisplay: inline-block;\n\twidth: 320px;\n\theight: 165px;\n\tmargin: 25px 45px;\n\tposition: relative;\n\ttransition: all 0.5s;\n}\n.fatesAtlasLine .fatesAtlas {\n\tcursor: pointer;\n}\n.fatesAtlasLine .fatesAtlas:hover {\n\ttransform: scale(1.05);\n}\n.fatesAtlasLine .fatesAtlas.NP,\n.fatesAtlasLine .fatesAtlasPlaceholder.NP {\n\theight: 45px;\n\tmargin: 30px 45px;\n}\n.fatesAtlasLine .fatesAtlas .fatesAtlasIcon {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\twidth: 300px;\n\theight: 135px;\n\toverflow: hidden;\n\tborder: 3px solid #fff;\n\ttransition: all 0.5s;\n}\n.fatesAtlasLine .fatesAtlas.FM .fatesAtlasIcon,\n.fatesAtlasLine .fatesAtlas.F .fatesAtlasIcon {\n\tborder-color: #A086D4;\n}\n.fatesAtlasLine .fatesAtlas.T .fatesAtlasIcon {\n\tborder-color: #E3BF82;\n}\n.fatesAtlasLine .fatesAtlas:hover .fatesAtlasIcon {\n\tborder-width: 4px;\n}\n.fatesAtlasLine .fatesAtlas.DT .fatesAtlasIcon,\n.fatesAtlasLine .fatesAtlas.JS .fatesAtlasIcon {\n\tborder-color: transparent;\n}\n.fatesAtlasLine .fatesAtlas.DT .fatesAtlasIcon,\n.fatesAtlasLine .fatesAtlas.JS .fatesAtlasIcon {\n\tleft: 130px;\n\ttransform: translateX(-50%);\n}\n.fatesAtlasLine .fatesAtlas.TBC .fatesAtlasIcon {\n\tborder-color: #E0E1E3;\n\tborder-width: 2px;\n}\n.fatesAtlasLine .fatesAtlas.Char .fatesAtlasIcon img {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tanimation: charswitch 10s infinite ease;\n}\n.fatesAtlasLine .fatesAtlas.Char .fatesAtlasIcon img:nth-child(1) {\n\tanimation-delay: 0s;\n}\n.fatesAtlasLine .fatesAtlas.Char .fatesAtlasIcon img:nth-child(2) {\n\tanimation-delay: -5s;\n}\n@keyframes charswitch {\n\tfrom {\n\t\topacity: 1;\n\t\tz-index: 1;\n\t}\n\t/* 0 ~ 50 正常变化，逐渐变透明露出底图 */\n\t50% {\n\t\topacity: 0;\n\t\tz-index: 1;\n\t}\n\t/* 变透明后移动到下一层（被遮盖） */\n\t50.1% {\n\t\topacity: 0;\n\t\tz-index: 0;\n\t}\n\t/* 被遮盖后变回不透明，作为底图，在展示图变透明时不会露出站点背景 */\n\t50.2% {\n\t\topacity: 1;\n\t\tz-index: 0;\n\t}\n\t/* 保持被遮盖，避免中途 z-index 突增导致的突然变化遮盖顶图 */\n\t99.9% {\n\t\topacity: 1;\n\t\tz-index: 0;\n\t}\n\t/* 回归初始状态 */\n\t100% {\n\t\topacity: 1;\n\t\tz-index: 1;\n\t}\n}\n.fatesAtlasLine .fatesAtlas .fatesAtlasText {\n\tdisplay: inline-flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 260px;\n\theight: 45px;\n\tbackground-color: rgb(0 0 0 / 75%);\n\tcolor: #fff;\n\tborder: 2px solid #fff;\n\tborder-left-width: 25px;\n\tborder-top-right-radius: 15px;\n\tfont-size: 20px;\n\tline-height: 1;\n\tletter-spacing: 1px;\n\tpadding-left: 10px;\n\tz-index: 1;\n}/*\nTM 开拓任务\nTC 开拓续闻\nCM 同行任务\nAM 冒险任务 */\n.fatesAtlasLine .fatesAtlas.TM .fatesAtlasText,\n.fatesAtlasLine .fatesAtlas.FM .fatesAtlasText,\n.fatesAtlasLine .fatesAtlas.F .fatesAtlasText {\n\tborder-color: #f2b438;\n}\n.fatesAtlasLine .fatesAtlas.T .fatesAtlasText {\n\tborder-left-width: 2px;\n\tborder-color: #595B5C;\n}\n.fatesAtlasLine .fatesAtlas.TC .fatesAtlasText {\n\tborder-color: #FE8D47;\n}\n.fatesAtlasLine .fatesAtlas.CM .fatesAtlasText {\n\tborder-color: #B98CF7;\n}\n.fatesAtlasLine .fatesAtlas.AM .fatesAtlasText {\n\tborder-color: #61D7EF;\n}\n.fatesAtlasLine .fatesAtlas.TE .fatesAtlasText,\n.fatesAtlasLine .fatesAtlas.JS .fatesAtlasText {\n\tborder: none;\n\tbackground-color: transparent;\n\ttext-align: center;\n\tfont-size: 25px;\n\tpadding: 0 0.5em;\n\tline-height: 1.2;\n\tjustify-content: center;\n}\n.fatesAtlasLine .fatesAtlas.TE .fatesAtlasText {\n\tfont-size: 30px;\n\ttop: 50%;\n\tbottom: unset;\n\ttransform: translateY(-50%);\n}\n.fatesAtlasLine .fatesAtlas.TBC .fatesAtlasText {\n\tborder-color: transparent;\n\tbackground-color: transparent;\n}\n.fatesAtlasLine .fatesAtlas:not(.JS, .TE) .fatesAtlasText:before {\n\tdisplay: inline-block;\n\twidth: 25px;\n\theight: 25px;\n\tcontent: '';\n\tposition: absolute;\n\tleft: -25px;\n\tbackground-size: auto 25px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tfilter: invert(1);\n}/*\nTM 开拓任务\nTC 开拓续闻\nCM 同行任务\nAM 冒险任务 */\n.fatesAtlasLine .fatesAtlas.TM .fatesAtlasText:before {\n\tbackground-image: url(https://patchwiki.biligame.com/images/sr/d/d2/6v855v0vybwrvmd0wems2rqcel8vov3.png);\n}\n.fatesAtlasLine .fatesAtlas.FM .fatesAtlasText:before,\n.fatesAtlasLine .fatesAtlas.TC .fatesAtlasText:before,\n.fatesAtlasLine .fatesAtlas.F .fatesAtlasText:before {\n\tbackground-image: url(https://patchwiki.biligame.com/images/sr/e/ea/l48xsyzx0h95wvf55yhu0iw8dze1l8r.png);\n}\n.fatesAtlasLine .fatesAtlas.CM .fatesAtlasText:before {\n\tbackground-image: url(https://patchwiki.biligame.com/images/sr/e/ee/ozgp2z95xteotxotvuamutxn2wpqbd8.png);\n}\n.fatesAtlasLine .fatesAtlas.AM .fatesAtlasText:before {\n\tbackground-image: url(https://patchwiki.biligame.com/images/sr/9/96/c0o8cml902xe5e2lelig8ujz9thxdo0.png);\n}\n.fatesAtlasLine .fatesAtlas.DT .fatesAtlasText:before {\n\tbackground-image: url(https://patchwiki.biligame.com/images/sr/4/44/1vacie0fpy9939ydcl8dq6rzfdgxpu8.png);\n}\n.fatesAtlasLine .fatesAtlas:not(.TBC, .JS, .TE) .fatesAtlasText:after {\n\tcontent: '';\n\tdisplay: inline-block;\n\twidth: 261px;\n\theight: 46px;\n\tposition: absolute;\n\tleft: -25px;\n\ttop: -2px;\n\tborder: 3px solid transparent;\n\tborder-top-right-radius: 15px;\n\ttransition: all 0.5s;\n}\n.fatesAtlasLine .fatesAtlas.T .fatesAtlasText:after {\n\tleft: -2px;\n}\n.fatesAtlasLine .fatesAtlas:not(.TBC):hover .fatesAtlasText:after {\n\tborder-color: #fff;\n}\n.fatesAtlasLine-close,\n.fatesAtlasLine-infoclose {\n\tbackground-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3e%3cpath d='M7 0 l -3 3 -3 -3 -1 1 3 3 -3 3 1 1 3 -3 3 3 1 -1 -3 -3 3 -3 -1 -1z'/%3e%3c/svg%3e\");\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tposition: absolute;\n\ttop: 5px;\n\tright: 5px;\n\tdisplay: inline-block;\n\twidth: 48px;\n\tmax-width: 10%;\n\theight: 48px;\n\tcursor: pointer;\n\tdisplay: none;\n}\n.fatesAtlasLine-infoclose {\n\tright: 10px;\n\tdisplay: inline-block;\n}\ndiv#fatesAtlasLine-content {\n\tdisplay: none;\n}\n.fatesAtlasLine-head {\n\tposition: absolute;\n\ttop: 5px;\n\tleft: 5px;\n\tline-height: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tcolumn-gap: 8px;\n}\n.fatesAtlasLine-head>img {\n\twidth: 45px;\n}\n.fatesAtlasLine-title {\n\tdisplay: flex;\n\tflex-direction: column;\n\trow-gap: 5px;\n}\n.fatesAtlasLine-title-2,\n.fatesAtlasLine-title-2 a {\n\tcolor: #fff;\n\tfont-size: 18px;\n\tletter-spacing: 2px;\n\tline-height: 1;\n}\n.fatesAtlasLine-title-1 {\n\tcolor: #E6CC96;\n\tfont-size: 14px;\n\tletter-spacing: 1px;\n\tline-height: 1;\n\tdisplay: none;\n}\ndiv#fatesAtlasLine-infocontent {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\theight: 100%;\n\twidth: 300px;\n\tmax-width: 50%;\n\tbackground-color: #141A24;\n\tborder-left: 3px solid #E1CEA0;\n\tpadding: 50px 20px;\n\tdisplay: none;\n}\n.fatesAtlasInfo {\n\tdisplay: none;\n}\n.fatesAtlasLine-infocontent .infoContent {\n\tdisplay: inline-block;\n\twidth: 100%;\n\theight: 100%;\n\tletter-spacing: 1px;\n\tline-height: 1.6;\n\toverflow: auto;\n\tfont-size: 14px;\n}\n.fatesAtlasLine-infocontent .infoContent .title {\n\tcolor: #DAC190;\n\tfont-size: 16px;\n\tmargin-bottom: 6px;\n}\n.fatesAtlasLine-infocontent .infoContent .Char {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tpadding-top: calc(100% / 138 * 61);\n\tposition: relative;\n}\n.fatesAtlasLine-infocontent .infoContent .Char img {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tanimation: charswitch 10s infinite ease;\n}\n.fatesAtlasLine-infocontent .infoContent .Char img:nth-child(1) {\n\tanimation-delay: 0s;\n}\n.fatesAtlasLine-infocontent .infoContent .Char img:nth-child(2) {\n\tanimation-delay: -5s;\n}\n.fatesAtlasLine-infocontent .infoContent .CM {\n\tcolor: #c1c4c7;\n\tmargin-top: 10px;\n}\n.fatesAtlasLine-infocontent a {\n\tdisplay: inline-block;\n}\n.fatesAtlasLine-infocontent .infoContent .name {\n\tfont-size: 18px;\n\tcolor: #fff;\n}\n.fatesAtlasLine-infocontent .infoContent .name:hover {\n\ttext-decoration: underline;\n}\n.fatesAtlasLine-infocontent .infoContent .text {\n\tmargin-top: 10px;\n\tcolor: #c1c4c7;\n}\n@media screen and (min-width:768px) {\n\t.fatesAtlasLine-infocontent .infoContent::-webkit-scrollbar {\n\t\twidth: 10px;\n\t\theight: 10px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent::-webkit-scrollbar-thumb {\n\t\tbackground: #BEBCC2;\n\t\tborder-radius: 10px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent::-webkit-scrollbar-track {\n\t\tbackground: rgb(255 255 255 / 20%);\n\t\tborder-radius: 10px;\n\t}\n\t/*火狐浏览器样式*/\n\t.fatesAtlasLine-infocontent .infoContent {\n\t\tscrollbar-width: thin;\n\t\tscrollbar-color: rgb(190 188 194) rgb(255 255 255 / 20%);\n\t}\n}\n@media screen and (max-width:767px) {\n\t.linebox {\n\t\theight: calc(90vh - 5em);\n\t}\n\t.fatesAtlasLine-head {\n\t\ttransform: scale(0.8) translate(-10%, -10%);\n\t}\n\t.fatesAtlasLine-infoclose {\n\t\ttop: -5px;\n\t\tmin-width: 30px;\n\t}\n\tdiv#fatesAtlasLine-infocontent {\n\t\tborder-width: 2px;\n\t\tpadding: 25px 10px;\n\t\tpadding-top: 35px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent {\n\t\tletter-spacing: 0px;\n\t\tline-height: 1.3;\n\t\tfont-size: 12px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent .title {\n\t\tfont-size: 14px;\n\t\tmargin-bottom: 4px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent .CM {\n\t\tmargin-top: 8px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent .CM-char {\n\t\twidth: 40px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent .name {\n\t\tfont-size: 16px;\n\t}\n\t.fatesAtlasLine-infocontent .infoContent .text {\n\t\tmargin-top: 8px;\n\t}\n}\n</style>\n<script type=\"text/javascript\">\n(window.RLQ = window.RLQ || []).push([[\"jquery\"], function () {\n\t$(document).ready(function () {\n\n\t\tclass FatesAtlasLine {\n\t\t\tconstructor() {\n\t\t\t\tthis.fatesAtlasLineInfo = [];\n\t\t\t}\n\n\t\t\tinitializeFatesAtlasLine(id) {\n\t\t\t\tlet fatesAtlasLine;\n\t\t\t\tif (id) {\n\t\t\t\t\tfatesAtlasLine = [document.getElementById(id)];\n\t\t\t\t} else {\n\t\t\t\t\tfatesAtlasLine = Array.from(document.querySelectorAll(\".fatesAtlasLine:not(#fatesAtlasLine)\"));\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < fatesAtlasLine.length; i++) {\n\t\t\t\t\tif (this.fatesAtlasLineInfo.find(info => info.root === fatesAtlasLine[i])) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet info = {};\n\t\t\t\t\tinfo.root = fatesAtlasLine[i];\n\t\t\t\t\tinfo.canvas = document.createElement(\"canvas\");\n\t\t\t\t\tinfo.root.getElementsByClassName(\"canvas\")[0].appendChild(info.canvas);\n\t\t\t\t\tinfo.item = [];\n\t\t\t\t\tthis.fatesAtlasLineInfo.push(info);\n\n\t\t\t\t\tinfo.canvas.width = info.root.clientWidth;\n\t\t\t\t\tinfo.canvas.height = info.root.clientHeight;\n\t\t\t\t\tlet brush = info.canvas.getContext(\"2d\");\n\t\t\t\t\tbrush.save();\n\t\t\t\t\tbrush.globalAlpha = 0.1;\n\t\t\t\t\tlet center = [info.canvas.width / 2, info.canvas.height / 2];\n\t\t\t\t\tbrush.restore();\n\t\t\t\t\tlet item = info.root.getElementsByClassName(\"fatesAtlasText\");\n\t\t\t\t\tfor (let j = 0; j < item.length; j++) {\n\t\t\t\t\t\tlet index = item[j].dataset.index;\n\t\t\t\t\t\tinfo.item[index] = {};\n\t\t\t\t\t\tlet rect = item[j].getBoundingClientRect();\n\t\t\t\t\t\tlet canvasRect = info.canvas.getBoundingClientRect();\n\t\t\t\t\t\tinfo.item[index].element = item[j].parentElement;  // 用于获取元素信息（如开拓任务、终末任务）\n\t\t\t\t\t\tinfo.item[index].top = rect.top - canvasRect.top;\n\t\t\t\t\t\tinfo.item[index].bottom = info.item[index].top + rect.height;\n\t\t\t\t\t\tinfo.item[index].left = rect.left - canvasRect.left;\n\t\t\t\t\t\tinfo.item[index].right = info.item[index].left + rect.width;\n\t\t\t\t\t\tinfo.item[index].wcenter = (info.item[index].left + info.item[index].right) / 2;\n\t\t\t\t\t\tinfo.item[index].hcenter = (info.item[index].top + info.item[index].bottom) / 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.drawfatesAtlasLine();\n\t\t\t}\n\n\t\t\tdrawfatesAtlasLine() {\n\t\t\t\t// 用 a-b 表示一条连线，从编号为 a 的任务连线到编号为 b 的任务\n\t\t\t\t// 两条连线之间使用半角逗号分隔\n\t\t\t\t// 所有的空格都会被忽略\n\t\t\t\tfor (const info of this.fatesAtlasLineInfo) {\n\t\t\t\t\tfor (const ligature of info.root.dataset.ligature.split(\",\")) {\n\t\t\t\t\t\tconst [fromId, intoId] = ligature.split(\"-\");\n\t\t\t\t\t\tif (!fromId || !intoId) continue;\n\t\t\t\t\t\tlet fromItem = info.item[fromId.trim()];\n\t\t\t\t\t\tlet intoItem = info.item[intoId.trim()];\n\t\t\t\t\t\tif (fromItem && intoItem) {\n\t\t\t\t\t\t\tthis.ettp2p(info.canvas, fromItem, intoItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tettp2p(canvas, fromItem, intoItem) {\n\t\t\t\tconst TRAILBLAZE_COLOR = \"#D0B18E\";\n\t\t\t\tconst TERMINUS_COLOR = \"#CCAFFF\";\n\t\t\t\tlet brush = canvas.getContext(\"2d\");\n\t\t\t\tbrush.lineWidth = 2;\n\t\t\t\tif (fromItem.hcenter == intoItem.hcenter) {\n\t\t\t\t\tbrush.strokeStyle = TRAILBLAZE_COLOR;\n\t\t\t\t\tif (fromItem.element.classList.contains(\"FM\")) brush.strokeStyle = TERMINUS_COLOR;\n\t\t\t\t\t// 两个节点在同一层，只需要画完整水平线即可。\n\t\t\t\t\tbrush.beginPath();\n\t\t\t\t\tbrush.moveTo(fromItem.right + 2, fromItem.hcenter);\n\t\t\t\t\tbrush.lineTo(intoItem.left - 2 - 5, intoItem.hcenter);\n\t\t\t\t\tbrush.stroke();\n\t\t\t\t} else {\n\t\t\t\t\t// 节点在不同层，需要画「之」字形折线\n\t\t\t\t\t// 先画第一段起始节点延申出来的水平线\n\t\t\t\t\tbrush.strokeStyle = TRAILBLAZE_COLOR;\n\t\t\t\t\tif (fromItem.element.classList.contains(\"FM\")) brush.strokeStyle = TERMINUS_COLOR;\n\t\t\t\t\tbrush.beginPath();\n\t\t\t\t\tbrush.moveTo(fromItem.right + 2, fromItem.hcenter);\n\t\t\t\t\tbrush.lineTo(intoItem.left - 45, fromItem.hcenter);\n\t\t\t\t\tbrush.stroke();\n\t\t\t\t\t// 再画竖线和连接到终点节点的「乚」形线\n\t\t\t\t\tconst RADIUS = 20;\n\t\t\t\t\tbrush.strokeStyle = TRAILBLAZE_COLOR;\n\t\t\t\t\tif (fromItem.element.classList.contains(\"FM\") || intoItem.element.classList.contains(\"FM\")) {\n\t\t\t\t\t\tbrush.strokeStyle = TERMINUS_COLOR;\n\t\t\t\t\t}\n\t\t\t\t\tbrush.beginPath();\n\t\t\t\t\tbrush.moveTo(intoItem.left - 45, fromItem.hcenter);\n\t\t\t\t\t// 折线替换为 45°弧形\n\t\t\t\t\t// 根据 from 和 into 的 hcenter 相对位置，决定圆弧方向\n\t\t\t\t\tif (fromItem.hcenter < intoItem.hcenter) {\n\t\t\t\t\t\tbrush.lineTo(intoItem.left - 45, intoItem.hcenter - RADIUS);\n\t\t\t\t\t\tbrush.arc(intoItem.left - 45 + RADIUS, intoItem.hcenter - RADIUS, RADIUS, Math.PI, Math.PI / 2, true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbrush.lineTo(intoItem.left - 45, intoItem.hcenter + RADIUS);\n\t\t\t\t\t\tbrush.arc(intoItem.left - 45 + RADIUS, intoItem.hcenter + RADIUS, RADIUS, Math.PI, Math.PI * 3 / 2, false);\n\t\t\t\t\t}\n\t\t\t\t\tbrush.lineTo(intoItem.left - 2 - 5, intoItem.hcenter);\n\t\t\t\t\tbrush.stroke();\n\t\t\t\t}\n\t\t\t\t// 绘制箭头尖端\n\t\t\t\tbrush.fillStyle = TRAILBLAZE_COLOR;\n\t\t\t\tif (intoItem.element.classList.contains(\"FM\")) brush.fillStyle = TERMINUS_COLOR;\n\t\t\t\tbrush.moveTo(intoItem.left - 2, intoItem.hcenter);\n\t\t\t\tbrush.beginPath();\n\t\t\t\tbrush.lineTo(intoItem.left - 2 - 5, intoItem.hcenter + 5);\n\t\t\t\tbrush.lineTo(intoItem.left - 2 - 5, intoItem.hcenter - 5);\n\t\t\t\tbrush.lineTo(intoItem.left - 2, intoItem.hcenter);\n\t\t\t\tbrush.closePath();\n\t\t\t\tbrush.fill();\n\t\t\t}\n\t\t}\n\n\t\tlet fatesAtlasLine = new FatesAtlasLine();\n\t\tfatesAtlasLine.initializeFatesAtlasLine(\"fatesAtlasLine\");\n\n\t\t// 初始缩放和位移\n\t\tlet initialPan = { x: 0, y: 0 };\n\t\tlet initialScale = 1;\n\n\t\tif ($('#fatesAtlasLine-content').length) {\n\t\t\t$(\"#fatesAtlasLine\").on(\"click\", \".fatesAtlas:not(.DT,.TBC)\", function () {\n\t\t\t\tif (newPanzoom.Draging == true) return\n\t\t\t\tinitialPan = newPanzoom.getPan();\n\t\t\t\tinitialScale = newPanzoom.getScale();\n\t\t\t\tnewPanzoom.zoom(1, { animate: true });\n\t\t\t\tnewPanzoom.pan(0, 0, { animate: true });\n\t\t\t\tlet pageName = this.getAttribute(\"data-name\");\n\t\t\t\t$(`.fatesAtlasLine-title-1`).show();\n\t\t\t\t$(\".fatesAtlasLine-title-2\").html(`<a href=\"/sr/命路歧图/${pageName}\" target=\"_blank\" title=\"${pageName}\">${pageName}</a>`);\n\t\t\t\t$(\"#fatesAtlasLine-content\").empty();\n\t\t\t\t$(`#fatesAtlasLine-content`).show();\n\t\t\t\t$(`#fatesAtlasLine`).hide();\n\t\t\t\tvar api = new mw.Api();\n\t\t\t\tapi.get({\n\t\t\t\t\taction: \"parse\",\n\t\t\t\t\ttext: \"{{:命路歧图/\" + pageName + \"}}\",\n\t\t\t\t}).then(function (ret) {\n\t\t\t\t\tif (ret && ret.parse && ret.parse.text) {\n\t\t\t\t\t\tvar newDiv = $('<div/>').html(ret.parse.text['*']);\n\t\t\t\t\t\tvar apicontent = newDiv.find('.fatesAtlasLine').removeAttr('id');\n\t\t\t\t\t\tif (apicontent.length === 0) {\n\t\t\t\t\t\t\t$(\"#fatesAtlasLine-content\").html(`<p><font color=#fff>页面<a href=\"/sr/命路歧图/${pageName}\" target=\"_blank\" title=\"点击创建页面\" class=\"new\">${pageName}</a>未创建，请联系管理员</font></p>`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(\"#fatesAtlasLine-content\").append(apicontent);\n\t\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\t\tfatesAtlasLine.initializeFatesAtlasLine();\n\t\t\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\t\t\tnewPanzoom.reset();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$(\"#fatesAtlasLine-content\").html(\"<p>加载内容失败：请检查对象名或服务器状态。</p>\");\n\t\t\t\t\t}\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t$(\"#fatesAtlasLine-content\").html(\"<p>加载内容失败：API 请求发生错误。</p>\");\n\t\t\t\t});\n\t\t\t\t$(`.fatesAtlasLine-close`).show();\n\t\t\t});\n\n\t\t\t$(\"body\").on(\"click\", \".fatesAtlasLine-close\", function (e) {\n\t\t\t\tnewPanzoom.zoom(initialScale, { animate: false });\n\t\t\t\tnewPanzoom.pan(initialPan.x, initialPan.y, { animate: false });\n\t\t\t\t$(`.fatesAtlasLine-title-1`).hide();\n\t\t\t\t$(\".fatesAtlasLine-title-2\").html(\"命路歧图\");\n\t\t\t\t$(`#fatesAtlasLine`).show();\n\t\t\t\t$(`#fatesAtlasLine-content`).hide();\n\t\t\t\t$(`.fatesAtlasLine-close`).hide();\n\t\t\t\t$(\"#fatesAtlasLine-content\").empty();\n\t\t\t});\n\t\t}\n\n\t\t$(\"body\").on(\"click\", \".fatesAtlas.infoBox\", function (e) {\n\t\t\t$(`#fatesAtlasLine-infocontent`).show();\n\t\t\t$(\".fatesAtlasLine-infocontent\").empty();\n\t\t\tlet infoName = $(this).data(\"name\");\n\t\t\tlet infoContent = $(`.fatesAtlasInfo[data-name=\"${infoName}\"]>div`).clone();\n\t\t\t$(\".fatesAtlasLine-infocontent\").append(infoContent);\n\t\t});\n\n\t\t$(\"body\").on(\"click\", \".fatesAtlasLine-infoclose\", function (e) {\n\t\t\t$(`#fatesAtlasLine-infocontent`).hide();\n\t\t\t$(\".fatesAtlasLine-infocontent\").empty();\n\t\t});\n\n\t});\n}])\n</script>\n<script src=\"https://wiki.biligame.com/tools/MediaWiki:Panzoom.min.js?action=raw&ctype=text/javascript\"></script>\n<script type=\"text/javascript\">\n(window.RLQ = window.RLQ || []).push([[\"jquery\"], function () {\n\t$(document).ready(function () {\n\t\t// 新轮子\n\t\twindow.newPanzoom = null;\n\t\twindow.initializePanzoom = function () {\n\t\t\tconst elem = document.getElementById(\"myContent\");\n\n\t\t\tif (window.newPanzoom) {\n\t\t\t\twindow.newPanzoom.destroy();\n\t\t\t\telem.parentElement.removeEventListener(\"wheel\", window.newPanzoom.zoomWithWheel);\n\t\t\t}\n\n\t\t\twindow.newPanzoom = Panzoom(elem, {\n\t\t\t\tOptional: true,\n\t\t\t\tstartScale: 0.3,\n\t\t\t\tmaxScale: 1,\n\t\t\t\tminScale: 0.3,\n\t\t\t});\n\t\t\t// 判断是否在移动\n\t\t\t// 防抖\n\t\t\tnewPanzoom.Draging = false\n\t\t\tfunction debounce(fn, delay) {\n\t\t\t\tlet timerId;\n\t\t\t\treturn function (...args) {\n\t\t\t\t\tclearTimeout(timerId);\n\t\t\t\t\ttimerId = setTimeout(() => {\n\t\t\t\t\t\tfn(...args);\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet data = debounce(function () {\n\t\t\t\t//console.log('拖动结束 ', event);\n\t\t\t\tnewPanzoom.Draging = false\n\t\t\t}, 100);\n\t\t\telem.addEventListener('panzoomchange', (event) => {\n\t\t\t\t//console.log('拖动开始2 ', event);\n\t\t\t\tnewPanzoom.Draging = true\n\t\t\t\tdata()\n\t\t\t})\n\t\t\t// panzoomreset,panzoomchange,panzoomend\n\t\t\telem.parentElement.addEventListener(\"wheel\", window.newPanzoom.zoomWithWheel);\n\t\t\telem.parentElement.addEventListener(\"wheel\", function (event) {\n\t\t\t\tif (!event.shiftKey) return;\n\t\t\t\twindow.newPanzoom.zoomWithWheel(event);\n\t\t\t});\n\t\t\tnewPanzoom.Draging = false\n\t\t};\n\n\t\twindow.onload = window.initializePanzoom;\n\t\tinitializePanzoom();\n\t});\n}]);\n</script>\n</p>\n<!-- \nNewPP limit report\nCached time: 20260220104509\nCache expiry: 86400\nReduced expiry: false\nComplications: [vary‐page‐id]\n[SMW] In‐text annotation parser time: 0 seconds\nCPU time usage: 0.072 seconds\nReal time usage: 0.111 seconds\nPreprocessor visited node count: 1551/1000000\nPost‐expand include size: 36854/2097152 bytes\nTemplate argument size: 14965/2097152 bytes\nHighest expansion depth: 8/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post‐expand size: 1744/5000000 bytes\nExtLoops count: 0\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%   50.946      1 命路歧图/再见，匹诺康尼\n100.00%   50.946      1 -total\n 51.00%   25.981     53 模板:命路歧图\n 10.40%    5.298      1 模板:面包屑\n  4.26%    2.168      1 模板:提示\n-->\n</div>"
        },
        "langlinks": [],
        "categories": [],
        "links": [
            {
                "ns": 0,
                "exists": "",
                "*": "命路歧图"
            },
            {
                "ns": 0,
                "exists": "",
                "*": "首页"
            }
        ],
        "templates": [
            {
                "ns": 0,
                "exists": "",
                "*": "命路歧图/再见，匹诺康尼"
            },
            {
                "ns": 10,
                "exists": "",
                "*": "模板:面包屑"
            },
            {
                "ns": 10,
                "exists": "",
                "*": "模板:提示"
            },
            {
                "ns": 10,
                "exists": "",
                "*": "模板:命路歧图"
            }
        ],
        "images": [
            "命路歧图-没有被征服的.png",
            "流萤头像.png",
            "翡翠头像.png",
            "托帕头像.png",
            "开拓者头像-1.png",
            "开拓者•毁灭头像.png",
            "开拓者头像-2.png",
            "命路歧图-彗星美人.png",
            "命路歧图-无回的河流-1.png",
            "命路歧图-无回的河流-2.png",
            "命路歧图-浮生若梦.png",
            "命路歧图-士兵的报酬.png",
            "命路歧图-黎明鸣响的一千只铃-1.png",
            "命路歧图-黎明鸣响的一千只铃-2.png",
            "命路歧图-异乡异客-1.png",
            "命路歧图-异乡异客-2.png"
        ],
        "externallinks": [],
        "sections": [],
        "parsewarnings": [],
        "displaytitle": "API",
        "iwlinks": [],
        "properties": [
            {
                "name": "smw-semanticdata-status",
                "*": ""
            }
        ]
    }
}